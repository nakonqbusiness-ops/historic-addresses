<!doctype html>
<html lang="en" data-theme="dark">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="/assets/img/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/img/favicon.svg" />
<link rel="shortcut icon" href="/assets/img/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png" />
<link rel="manifest" href="/assets/img/site.webmanifest" />

	<title>–ù–∞—à–∏—Ç–µ –ü–∞—Ä—Ç–Ω—å–æ—Ä–∏ - –ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞</title>
	<meta name="description" content="–ü–∞—Ä—Ç–Ω—å–æ—Ä–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞">
	<script>
		(function() {
			try {
				var stored = localStorage.getItem('theme-preference');
				if (stored === 'system') stored = 'dark';
				var theme = (stored === 'dark' || stored === 'light') ? stored : 'dark';
				document.documentElement.setAttribute('data-theme', theme);
			} catch(e) {}
		})();
	</script>
	<link rel="stylesheet" href="assets/css/styles.css">
	<style>
		.partner-card {
			background: var(--card-bg, #1a1a1a);
			border-radius: 8px;
			padding: 1.5rem;
			margin-bottom: 1.5rem;
			border: 1px solid var(--border-color, #333);
			transition: transform 0.2s, box-shadow 0.2s;
		}
		.partner-card:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(0,0,0,0.3);
		}
		.partner-header {
			display: flex;
			align-items: center;
			gap: 1.5rem;
			margin-bottom: 1rem;
		}
		.partner-logo {
			width: 100px;
			height: 100px;
			object-fit: contain;
			border-radius: 8px;
			background: #a89378;
			padding: 8px;
		}
		.partner-info h2 {
			margin: 0 0 0.5rem 0;
			color: var(--accent-strong);
		}
		.partner-links {
			display: flex;
			gap: 1rem;
			flex-wrap: wrap;
			margin-top: 1rem;
		}
		.partner-links a {
			display: inline-flex;
			align-items: center;
			gap: 0.5rem;
			padding: 0.5rem 1rem;
			background: var(--primary-color, #C4803D);
			color: #1A1A1A;
			text-decoration: none;
			border-radius: 4px;
			transition: background 0.2s;
		}
		.partner-links a:hover {
			background: var(--primary-hover, #C4803D);
		}
	</style>
	<script defer src="assets/js/theme.js"></script>
	<script defer src="assets/js/transitions.js"></script>
	<!-- Add this in the <head> section, after the other script tags -->
<script defer src="assets/js/calendar-popup.js"></script>
<link rel="canonical" href="https://historyaddress.bg/partners.html">
<meta name="robots" content="index, follow">
</head>
<script>
function handleEmailClick(event) {
    // On mobile (screen width < 768px), let mailto work normally
    if (window.innerWidth <= 768) {
        return; // Don't prevent default, let mailto: work
    }
    
    // On desktop, show modal
    event.preventDefault();
    showEmailModal();
}

function showEmailModal() {
    var modal = document.getElementById('emailModal');
    if (!modal) {
        // Create modal if it doesn't exist
        modal = document.createElement('div');
        modal.id = 'emailModal';
        modal.className = 'email-modal';
        modal.innerHTML = `
            <div class="email-modal-content">
                <h3>üìß –°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å</h3>
                <div class="email-address-display" id="emailDisplay">historyaddressbg@gmail.com</div>
                <div class="email-modal-buttons">
                    <button class="btn-copy" onclick="copyEmail()">
                        <span id="copyText">üìã –ö–æ–ø–∏—Ä–∞–π Email</span>
                    </button>
                    <button class="btn-close" onclick="closeEmailModal()">‚úï –ó–∞—Ç–≤–æ—Ä–∏</button>
                </div>
                <p>–ú–æ–∂–µ—Ç–µ –¥–∞ –Ω–∏ –ø–∏—à–µ—Ç–µ –∑–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏–ª–∏ –ø–æ–¥–∫—Ä–µ–ø–∞</p>
            </div>
        `;
        document.body.appendChild(modal);
        
        // Close on backdrop click
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeEmailModal();
            }
        });
    }
    
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closeEmailModal() {
    var modal = document.getElementById('emailModal');
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = '';
    }
}

function copyEmail() {
    var email = 'historyaddressbg@gmail.com';
    navigator.clipboard.writeText(email).then(function() {
        var btn = document.querySelector('.btn-copy');
        var text = document.getElementById('copyText');
        
        btn.classList.add('copied');
        text.textContent = '‚úì –ö–æ–ø–∏—Ä–∞–Ω–æ!';
        
        setTimeout(function() {
            btn.classList.remove('copied');
            text.textContent = 'üìã –ö–æ–ø–∏—Ä–∞–π Email';
        }, 2000);
    }).catch(function(err) {
        alert('Email: ' + email);
    });
}

// Close modal on ESC key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeEmailModal();
    }
});
</script>
<body>
	<header class="site-header">
		<a class="logo-link" href="index.html">
			<img src="assets/img/HistAdrLogo.png" alt="–ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞" class="header-logo">
			<span class="logo-text">–ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞</span>
		</a>
<nav class="nav">
    <a href="index.html">–ù–∞—á–∞–ª–æ</a>
    <a href="map.html">–ö–∞—Ä—Ç–∞</a>
    <a href="addresses.html">–î–æ–º–æ–≤–µ</a>
    <a href="calendar.html">–ö–∞–ª–µ–Ω–¥–∞—Ä</a>
    <a href="about.html">–ó–∞ –ù–∞—Å</a>
</nav>
		<button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode"></button>
	</header>

	<main class="container">
		<h1 class="page-title gradient-text">ü§ù –ù–∞—à–∏—Ç–µ –ü–∞—Ä—Ç–Ω—å–æ—Ä–∏</h1>
		
		<div id="partners-list" style="max-width: 900px; margin: 0 auto;">
			<p style="text-align:center;padding:2rem;">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</p>
		</div>
	</main>

	<footer class="site-footer">
		<p>¬© <span id="year"></span> –ê–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞</p>
		<div class="footer-social">
			<a href="https://instagram.com/historyaddress.bg" target="_blank" rel="noopener noreferrer" class="social-link">
				üì∑ Instagram
			</a>
			<a href="mailto:historyaddressbg@gmail.com" class="social-link" onclick="handleEmailClick(event)">
    üìß Email
</a>
		</div>
		<p class="footer-links">
			<a href="privacy.html">–ü–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a> | 
			<a href="terms.html">–£—Å–ª–æ–≤–∏—è</a> | 
			<a href="copyright.html">–ê–≤—Ç–æ—Ä—Å–∫–∏ –ø—Ä–∞–≤–∞</a>
		</p>
	</footer>

	<script>
	(function() {
		var apiBase = window.location.origin;
		
		function loadPartners() {
			fetch(apiBase + '/api/partners')
				.then(function(res) { return res.json(); })
				.then(function(partners) {
					var container = document.getElementById('partners-list');
					container.innerHTML = '';
					
					if (partners.length === 0) {
						container.innerHTML = '<p style="text-align:center;color:#999;">–°–∫–æ—Ä–æ —â–µ –¥–æ–±–∞–≤–∏–º –ø–∞—Ä—Ç–Ω—å–æ—Ä–∏!</p>';
						return;
					}
					
					partners.forEach(function(p) {
						var card = document.createElement('div');
						card.className = 'partner-card';
						
						var header = '<div class="partner-header">';
						if (p.logo_url) {
							header += '<img src="' + p.logo_url + '" alt="' + p.name + ' logo" class="partner-logo">';
						}
						header += '<div class="partner-info"><h2>' + p.name + '</h2>';
						if (p.description) {
							header += '<p style="margin:0;color:var(--text-muted);">' + p.description + '</p>';
						}
						header += '</div></div>';
						
						var links = '<div class="partner-links">';
						if (p.website) {
							links += '<a href="' + p.website + '" target="_blank" rel="noopener">üåê –£–µ–±—Å–∞–π—Ç</a>';
						}
						if (p.instagram) {
							var instaUrl = p.instagram.startsWith('http') ? p.instagram : 'https://instagram.com/' + p.instagram.replace('@', '');
							links += '<a href="' + instaUrl + '" target="_blank" rel="noopener">üì∏ Instagram</a>';
						}
						if (p.email) {
							links += '<a href="mailto:' + p.email + '">üìß Email</a>';
						}
						links += '</div>';
						
						card.innerHTML = header + links;
						container.appendChild(card);
					});
				})
				.catch(function(err) {
					console.error('Error loading partners:', err);
					document.getElementById('partners-list').innerHTML = '<p style="text-align:center;color:#ff6b6b;">–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ.</p>';
				});
		}
		
		document.getElementById('year').textContent = new Date().getFullYear();
		loadPartners();
	})();
	</script>
</body>
</html>
